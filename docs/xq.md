AI News Tracker - 交互重构需求文档 (v1.0)
1. 项目背景与目标

当前痛点：用户在“浏览新闻”和“AI搜索/问答”两个界面间频繁跳转，体验割裂，效率低下。

重构目标：打造**“沉浸式、不打断”**的阅读与探索体验。

核心方案：移除独立的搜索/问答页面，将其重构为全局指令中心（Global Command Center）与悬浮模态层（Immersive Modal），覆盖在新闻列表之上。

2. 核心功能模块

本次重构主要包含三个交互状态：

全局导航栏（入口）

智能下拉面板（决策分流）

AI 对话模态层（沉浸式交互）

模块一：全局导航栏 (Global Navigation)

改造现有的顶部区域，使其成为唯一的交互入口。

位置：页面顶部固定。

交互逻辑：

输入框：占据中间核心位置，Placeholder：“搜索新闻，或向 AI 提问 (Cmd+K)”。

快捷键：支持全局 Cmd/Ctrl + K 唤起焦点。

右侧功能：保留“设置”、“深色模式”等低频操作。

模块二：智能下拉面板 (Smart Dropdown)

当用户点击输入框或开始输入时触发，负责历史回溯与意图分流。

2.1 零态 (Zero State) - 聚焦但未输入

当用户点击输入框，未输入文字时，展示历史记录。

code
Text
download
content_copy
expand_less
+-----------------------------------------------------------------------+
|  [ | (光标闪烁)                                            (Cmd+K) ]   | 
+--+--------------------------------------------------------------------+
   |  🕒 **最近对话历史 (History)**                                     |
   |  [💬] 华为7B模型参数分析... (昨天)                                 |
   |  [💬] 具身智能2025趋势总结... (3天前)                              |
   |  [💬] 对比 OpenAI 与 Claude... (1周前)                             |
   |                                                                    |
   |  🔥 **今日热搜**                                                   |
   |  [🔍] 字节跳动 Seed 模型                                           |
   +--------------------------------------------------------------------+

点击逻辑：点击历史记录项 -> **直接打开“AI 对话模态层”**并恢复上下文。

2.2 输入态 (Typing State) - 意图分流

当用户输入文字（如“华为”）时：

code
Text
download
content_copy
expand_less
+-----------------------------------------------------------------------+
|  [ 华为                                                      (Esc) ]   | 
+--+--------------------------------------------------------------------+
   |  ⚡ **AI 智能问答 (默认高亮)**                                     |
   |  [✨] 向 AI 提问：**华为**...                                      |
   |       (按 Enter 生成回答)                                          |
   |  ------------------------------------------------------------      |
   |  📄 **相关文章 (Search Results)**                                  |
   |  [📄] **华为**开源7B多模态模型，视觉定位能力出色...      2025-01-05 |
   |  [📄] **华为**发布端侧大模型性能评测...                 2025-01-04 |
   +--------------------------------------------------------------------+

分流逻辑：

回车 / 点击第一项 -> 触发 “AI 对话模态层”。

点击文章项 -> 下拉收起，主列表定位到该文章或打开文章详情（不触发AI）。

模块三：AI 对话模态层 (AI Conversation Modal)

这是本次重构的核心。当用户触发 AI 问答时，展现为全屏居中的悬浮层，底部背景高斯模糊。

3.1 布局结构

采用 垂直流式布局 (Single Column)：问题 (固定) -> 回答 (滚动) -> 来源 (滚动) -> 追问 (固定)。

3.2 界面线框图 (Wireframe)
code
Text
download
content_copy
expand_less
(背景：原新闻列表被遮罩层覆盖，模糊度 blur 10px，透明度 0.6)

    +-----------------------------------------------------------------------+
    |  [ 🔍 华为最新的7B模型有哪些特点？                             (Esc关闭) ] | <-- 1. 顶部栏 (Sticky)
    +--+--------------------------------------------------------------------+--+
       | [🕒 历史] (可选：左上角悬浮小按钮，点击展开侧边历史列表)                 |
       |                                                                    |
       |  (↓↓↓ 中间区域可独立滚动 Scrollable Area ↓↓↓)                        |
       |                                                                    |
       |  🤖 **AI 智能回答**                                                |
       |  华为刚刚发布的 7B 多模态模型主要有以下核心特点：                  |
       |                                                                    |
       |  1. **视觉定位能力出色**：在 OCR 和视觉定位任务上表现优异，        |
       |     能够精准识别图像中的微小文字和物体位置 [1]。                   |
       |                                                                    |
       |  2. **端侧部署友好**：7B 的参数量经过优化，非常适合在              |
       |     手机、PC 等端侧设备上运行，降低了推理成本 [2]。                |
       |                                                                    |
       |  ( ... 更多流式生成的文本 ... )                                    |
       |                                                                    |
       |  ------------------------------------------------------------      |
       |                                                                    |
       |  📚 **参考来源 (References)**                                      |
       |  +----------------------------------------------------------+      |
       |  | [1] 华为开源7B多模态模型，视觉定位和OCR能力出色...       |      |
       |  |     2025-01-05 · 量子位 · 匹配度 98%                     |      |
       |  +----------------------------------------------------------+      |
       |  | [2] 华为“新甜点”来了：端侧大模型性能评测                 |      |
       |  |     2025-01-04 · 机器之心 · 匹配度 85%                   |      |
       |  +----------------------------------------------------------+      |
       |                                                                    |
       |  (↑↑↑ 滚动区域结束 ↑↑↑)                                            |
       |                                                                    |
       +--------------------------------------------------------------------+
       |  [ ↳ 把它翻译成英文...                                       ↑ ]   | <-- 3. 底部追问栏 (Sticky)
       +--------------------------------------------------------------------+
3.3 关键交互细节

流式响应 (Streaming)：

用户回车后，立刻显示模态层。

先加载底部的“参考来源”（骨架屏 -> 真实卡片）。

与此同时，AI 开始逐字生成回答。

引用跳转 (Citation)：

点击正文中的 [1]，平滑滚动至下方的参考来源卡片 [1] 并闪烁高亮。

点击“参考来源卡片”，在新标签页打开原始文章。

多轮对话：

在底部输入追问（如“和GPT-4比呢？”）。

中间滚动区域内容上推，追加新的“我的提问”和“AI回答”。

顶部的大搜索框始终显示初始意图（或变为“AI对话中...”），底部追问框清空等待下次输入。

历史切换：

点击模态层左上角的 🕒 图标，从左侧滑出窄列表，允许用户在不关闭模态层的情况下切换到其他对话。

4. 异常与边缘情况处理

加载慢：如果 AI 响应超过 3 秒，在中间区域显示趣味 Loading 动画（如机器人思考），但不要阻塞底部追问框。

无搜索结果：如果找不到相关新闻，AI 应回答：“根据当前知识库，未找到相关新闻。但我可以根据通用知识回答您...”。

关闭策略：

点击右上角 X 或键盘 Esc：关闭模态层，保留当前对话状态（下次打开历史记录还在）。

点击遮罩层背景：不关闭（防止误触导致长文生成丢失），建议只通过显式操作关闭。

5. 开发建议 (Tech Notes)

前端组件：推荐使用 React Portal 或 Vue Teleport 将此模态层挂载到 body 根节点，以确保 z-index 层级最高（遮盖住原本的导航栏）。

状态管理：建议将 CurrentChatSession 存储在全局 Store (Redux/Pinia) 中，确保模态层关闭再打开时，数据不会瞬间丢失。

响应式：

PC端：模态层宽度建议固定在 700px - 800px，保证最佳阅读体验。

移动端：模态层宽度 100%，高度 100%，变为全屏页面。